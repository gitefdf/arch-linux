:Lazy clear               require("lazy").clear()          æ¸…é™¤å·²å®Œæˆä»»åŠ¡

  :Lazy debug               require("lazy").debug()          æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯

  :Lazy health              require("lazy").health()         è¿è¡Œ :checkhealth lazy

  :Lazy help                require("lazy").help()           åˆ‡æ¢æ˜¾ç¤ºæ­¤å¸®åŠ©é¡µé¢

  :Lazy home                require("lazy").home()           è¿”å›æ’ä»¶åˆ—è¡¨

  :Lazy install [æ’ä»¶]      require("lazy").install(opts?)   å®‰è£…ç¼ºå¤±æ’ä»¶

  :Lazy load {æ’ä»¶}         require("lazy").load(opts)       åŠ è½½å°šæœªåŠ è½½çš„æ’ä»¶
                                                             ç±»ä¼¼ :packadd
                                                             ä¾‹å¦‚ï¼š
                                                             :Lazy load foo.nvim
                                                             ä½¿ç”¨ :Lazy! load å¯è·³è¿‡
                                                             æ¡ä»¶æ£€æŸ¥

  :Lazy log [æ’ä»¶]          require("lazy").log(opts?)       æ˜¾ç¤ºæœ€è¿‘æ›´æ–°æ—¥å¿—

  :Lazy profile             require("lazy").profile()        æ˜¾ç¤ºè¯¦ç»†æ€§èƒ½åˆ†æ

  :Lazy reload {æ’ä»¶}       require("lazy").reload(opts)     é‡æ–°åŠ è½½æ’ä»¶
                                                             (å®éªŒæ€§åŠŸèƒ½!!)

  :Lazy restore [æ’ä»¶]      require("lazy").restore(opts?)   å°†æ‰€æœ‰æ’ä»¶æ¢å¤è‡³
                                                             lockfile è®°å½•çŠ¶æ€
                                                             å•ä¸ªæ’ä»¶æ“ä½œï¼šæ¢å¤è‡³
                                                             lockfile çŠ¶æ€æˆ–å…‰æ ‡å¤„
                                                             æŒ‡å®šçš„æäº¤ç‰ˆæœ¬

  :Lazy sync [æ’ä»¶]         require("lazy").sync(opts?)      æ‰§è¡Œå®‰è£…ã€æ¸…ç†åŠ
                                                             æ›´æ–°æ“ä½œ

  :Lazy update [æ’ä»¶]       require("lazy").update(opts?)    æ›´æ–°æ’ä»¶ï¼ˆåŒæ—¶ä¼š
                                                             æ›´æ–°lockfileæ–‡ä»¶ï¼‰
  ----------------------------------------------------------------------------------
æ‰€æœ‰å‘½ä»¤å‡å¯æ·»åŠ  **!** åç¼€ä½¿å‘½ä»¤ç­‰å¾…æ‰§è¡Œå®Œæˆã€‚ä¾‹å¦‚è¦é€šè¿‡å‘½ä»¤è¡ŒåŒæ­¥lazyæ’ä»¶ï¼Œå¯ä½¿ç”¨ï¼š

>shell
    nvim --headless "+Lazy! sync" +qa
<

`opts` ä¸ºåŒ…å«ä»¥ä¸‹é”®å€¼å¯¹çš„è¡¨ï¼š

- **wait**: ä¸ºtrueæ—¶ï¼Œè°ƒç”¨å°†ç­‰å¾…æ“ä½œå®Œæˆ
- **show**: ä¸ºfalseæ—¶ä¸æ˜¾ç¤ºæ“ä½œç•Œé¢
- **plugins**: è¦æ‰§è¡Œæ“ä½œçš„æ’ä»¶åç§°åˆ—è¡¨
- **concurrency**: é™åˆ¶å¹¶å‘è¿è¡Œä»»åŠ¡çš„`æ•°é‡`

ç»Ÿè®¡API (`require("lazy").stats()`)ï¼š

>lua
    {
      -- ä»å¯åŠ¨åˆ°UIEnteräº‹ä»¶çš„è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰
      startuptime = 0,
      -- ä¸ºtrueæ—¶ï¼Œstartuptimeè¡¨ç¤ºNeovimè¿›ç¨‹çš„ç²¾ç¡®CPUæ—¶é—´ï¼ˆä»…é™Linux & macOSï¼‰
      -- æ¯”`nvim --startuptime`æ›´ç²¾ç¡®ï¼Œå› æ­¤æ•°å€¼ä¼šç•¥é«˜
      -- ä¸ºfalseæ—¶ï¼ŒstartuptimeåŸºäºlazyå¯åŠ¨æ—¶çš„æ—¶é—´æˆ³å·®å€¼è®¡ç®—
      real_cputime = false,
      count = 0,      -- æ’ä»¶æ€»æ•°
      loaded = 0,      -- å·²åŠ è½½æ’ä»¶æ•°
      ---@type table<string, numb
ä»¥ä¸‹æ˜¯ä¸“ä¸šç¿»è¯‘ï¼š

**lazy.nvim** æä¾›äº†ä¸€ä¸ªçŠ¶æ€æ ç»„ä»¶ï¼Œå¯ç”¨äºæ˜¾ç¤ºå¾…å¤„ç†çš„æ›´æ–°æ•°é‡ã€‚è¯·ç¡®ä¿å¯ç”¨ `config.checker.enabled = true` ä»¥ä½¿è¯¥åŠŸèƒ½ç”Ÿæ•ˆã€‚

é…ç½® lualine.nvim çš„ç¤ºä¾‹ï¼š

```lua
require("lualine").setup({
  sections = {
    lualine_x = {
      {
        require("lazy.status").updates,
        cond = require("lazy.status").has_updates,
        color = { fg = "#ff9e64" },
      },
    },
  },
})
```

ğŸ“† ç”¨æˆ·äº‹ä»¶                       *lazy.nvim-ğŸš€-ç”¨æ³•-ğŸ“†-ç”¨æˆ·äº‹ä»¶*

å°†è§¦å‘ä»¥ä¸‹ç”¨æˆ·äº‹ä»¶ï¼š

- **LazyDone**ï¼šå½“ lazy å®Œæˆå¯åŠ¨å¹¶åŠ è½½é…ç½®åè§¦å‘
- **LazySync**ï¼šåŒæ­¥æ“ä½œå®Œæˆåè§¦å‘
- **LazyInstall**ï¼šå®‰è£…å®Œæˆåè§¦å‘
- **LazyUpdate**ï¼šæ›´æ–°å®Œæˆåè§¦å‘
- **LazyClean**ï¼šæ¸…ç†å®Œæˆåè§¦å‘
- **LazyCheck**ï¼šæ£€æŸ¥æ›´æ–°å®Œæˆåè§¦å‘
- **LazyLog**ï¼šæ—¥å¿—æ“ä½œå®Œæˆåè§¦å‘
- **LazyLoad**ï¼šåŠ è½½æ’ä»¶åè§¦å‘ï¼Œ`data` å±æ€§åŒ…å«æ’ä»¶åç§°
- **LazySyncPre**ï¼šåŒæ­¥æ“ä½œå¼€å§‹å‰è§¦å‘
- **LazyInstallPre**ï¼šå®‰è£…å¼€å§‹å‰è§¦å‘
- **LazyUpdatePre**ï¼šæ›´æ–°å¼€å§‹å‰è§¦å‘
- **LazyCleanPre**ï¼šæ¸…ç†å¼€å§‹å‰è§¦å‘
- **LazyCheckPre**ï¼šæ£€æŸ¥æ›´æ–°å¼€å§‹å‰è§¦å‘
- **LazyLogPre**ï¼šæ—¥å¿—æ“ä½œå¼€å§‹å‰è§¦å‘
- **LazyReload**ï¼šé‡æ–°åŠ è½½æ’ä»¶é…ç½®åé€šè¿‡å˜æ›´æ£€æµ‹è§¦å‘
- **VeryLazy**ï¼šåœ¨ `LazyDone` åä¸”å¤„ç†å®Œ `VimEnter` è‡ªåŠ¨å‘½ä»¤åè§¦å‘
- **LazyVimStarted**ï¼šå½“ `require("lazy").stats().startuptime` è®¡ç®—å®Œæˆåï¼Œåœ¨ `UIEnter` äº‹ä»¶åè§¦å‘ï¼Œé€‚ç”¨äºä»ªè¡¨ç›˜å¯åŠ¨æ—¶é—´æ›´æ–°

âŒ å¸è½½                       *lazy.nvim-ğŸš€-ç”¨æ³•-âŒ-å¸è½½*

è¦å¸è½½ **lazy.nvim**ï¼Œéœ€åˆ é™¤ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼š

- **æ•°æ®ç›®å½•**ï¼š`~/.local/share/nvim/lazy`
- **çŠ¶æ€ç›®å½•**ï¼š`~/.local/state/nvim/lazy`
- **é”æ–‡ä»¶**ï¼š`~/.config/nvim/lazy-lock.json`

è‹¥ä¿®æ”¹è¿‡ `XDG` ç¯å¢ƒå˜é‡ï¼Œè·¯å¾„å¯èƒ½ä¸åŒã€‚

ğŸ”’ é”æ–‡ä»¶                             *lazy.nvim-ğŸš€-ç”¨æ³•-ğŸ”’-é”æ–‡ä»¶*

æ¯æ¬¡**æ›´æ–°**åï¼Œæœ¬åœ°é”æ–‡ä»¶ (`lazy-lock.json`) ä¼šæ›´æ–°ä¸ºå·²å®‰è£…çš„ç‰ˆæœ¬å·ã€‚å»ºè®®å°†æ­¤æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚

åœ¨å¤šå°æœºå™¨ä¸Šä½¿ç”¨ Neovim é…ç½®æ—¶ï¼Œé”æ–‡ä»¶å¯ç¡®ä¿æ‰€æœ‰æ’ä»¶ç‰ˆæœ¬ä¸€è‡´ã€‚åœ¨å…¶ä»–æœºå™¨ä¸Šæ‰§è¡Œ `:Lazy restore` å³å¯å°†æ’ä»¶æ¢å¤è‡³é”æ–‡ä»¶è®°å½•çš„ç‰ˆæœ¬ã€‚

ğŸ“¦ è¿ç§»æŒ‡å—               *lazy.nvim-ğŸš€-ç”¨æ³•-ğŸ“¦-è¿ç§»æŒ‡å—*

PACKER.NVIM è½¬æ¢è¯´æ˜ï¼š

- `setup` â¡ï¸ `init`
- `requires` â¡ï¸ `dependencies`
- `as` â¡ï¸ `name`
- `opt` â¡ï¸ `lazy`
- `run` â¡ï¸ `build`
- `lock` â¡ï¸ `pin`
- `disable=true` â¡ï¸ `enabled = false`
- `tag='*'` â¡ï¸ `version="*"`
- å¤šæ•°æƒ…å†µä¸‹æ— éœ€ `after`ï¼Œå¿…è¦æ—¶æ”¹ç”¨ `dependencies`
- å¤šæ•°æƒ…å†µä¸‹æ— éœ€ `wants`ï¼Œå¿…è¦æ—¶æ”¹ç”¨ `dependencies`
- `config` ä¸æ”¯æŒå­—ç¬¦ä¸²ç±»å‹ï¼Œéœ€æ”¹ç”¨ `fun(LazyPlugin)`
- `module` ä¼šè‡ªåŠ¨åŠ è½½ï¼Œæ— éœ€å£°æ˜
- `keys` è§„èŒƒä¸ |lazy.nvim-different| ä¸åŒ
- `rtp` å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š

```lua
config = function(plugin)
    vim.opt.rtp:append(plugin.dir .. "/custom-rtp")
end
```

åœ¨ packer ä¸­ï¼Œ`wants`ã€`requires` å’Œ `after` ç”¨äºç®¡ç†ä¾èµ–å…³ç³»ã€‚è€Œåœ¨ lazy ä¸­ï¼Œå¤§å¤šæ•° Lua ä¾èµ–æ— éœ€ç‰¹æ®Šå¤„ç†â€”â€”å®ƒä»¬å¯åƒæ™®é€šæ’ä»¶ä¸€æ ·å®‰è£…ï¼ˆå³ä½¿è®¾ä¸º `lazy=true`ï¼‰ï¼Œå½“å…¶ä»–æ’ä»¶éœ€è¦æ—¶ä¼šè‡ªåŠ¨åŠ è½½ã€‚`dependencies` é”®å¯ç”¨äºå°†ä¾èµ–æ’ä»¶ä¸ä¸»æ’ä»¶åˆ†ç»„ç®¡ç†ã€‚
ä½œä¸º`dependencies`æ·»åŠ çš„æ’ä»¶å°†å§‹ç»ˆé‡‡ç”¨æ‡’åŠ è½½æ¨¡å¼ï¼Œå¹¶åœ¨æ’ä»¶åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½ã€‚

PAQ-NVIM ~

- `as` â¡ï¸ `name`
- `opt` â¡ï¸ `lazy`
- `run` â¡ï¸ `build`

âš¡ æ€§èƒ½åˆ†æä¸è°ƒè¯•             *lazy.nvim-ğŸš€-ç”¨æ³•-âš¡-æ€§èƒ½åˆ†æä¸è°ƒè¯•*

æˆ‘ä»¬ç²¾å¿ƒä¼˜åŒ–äº†å¯åŠ¨ä»£ç ï¼ˆ`lazy.core`ï¼‰ä»¥å®ç°æœ€é«˜æ•ˆç‡ã€‚å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œæ‰€æœ‰åœ¨`VimEnter`æˆ–`BufReadPre`äº‹ä»¶å‰è°ƒç”¨çš„Luaæ–‡ä»¶éƒ½ä¼šè¿›è¡Œå­—èŠ‚ç¼–è¯‘å¹¶ç¼“å­˜ï¼Œè¿™ä¸impatient.nvim<https://github.com/lewis6991/impatient.nvim>çš„å®ç°ç±»ä¼¼ã€‚

ä»¥æˆ‘çš„é…ç½®ä¸ºä¾‹ï¼ŒåŠ è½½93ä¸ªæ’ä»¶ä»…éœ€çº¦`11æ¯«ç§’`â€”â€”å½“ç„¶è¿™å¾—ç›Šäºå¤§é‡æ‡’åŠ è½½ç­–ç•¥ :)

**lazy.nvim**å†…ç½®é«˜çº§æ€§èƒ½åˆ†æå™¨`:Lazy profile`ï¼Œå¯å¸®åŠ©æ‚¨ä¼˜åŒ–åŠ è½½æ€§èƒ½ã€‚åˆ†æè§†å›¾ä¼šæ¸…æ™°å±•ç¤ºæ¯ä¸ªæ’ä»¶çš„åŠ è½½åŸå› åŠè€—æ—¶æƒ…å†µã€‚

ğŸ› è°ƒè¯• ~

å®æ—¶æŸ¥çœ‹æ´»è·ƒçš„æ‡’åŠ è½½å¤„ç†å™¨çŠ¶æ€åŠæ¨¡å—ç¼“å­˜å†…å®¹ã€‚

ğŸ“‚ æ’ä»¶ç»“æ„åŒ–ç®¡ç†*lazy.nvim-ğŸš€-ç”¨æ³•-ğŸ“‚-æ’ä»¶ç»“æ„åŒ–ç®¡ç†*

éƒ¨åˆ†ç”¨æˆ·å¯èƒ½å¸Œæœ›å°†æ’ä»¶é…ç½®æ‹†åˆ†åˆ°å¤šä¸ªæ–‡ä»¶ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Luaæ¨¡å—æ›¿ä»£ç›´æ¥å‘`setup()`ä¼ é€’é…ç½®è¡¨ã€‚ä¸»æ¨¡å—åŠå…¶é¡¶å±‚å­æ¨¡å—çš„é…ç½®å°†è¢«è‡ªåŠ¨åˆå¹¶ï¼Œå› æ­¤æ— éœ€åœ¨ä¸»æ’ä»¶æ–‡ä»¶ä¸­æ‰‹åŠ¨æ·»åŠ å…¶ä»–æ–‡ä»¶çš„`require`è¯­å¥ã€‚

è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿ï¼š

- **æ–°å¢**æ’ä»¶é…ç½®æ›´ç®€å•ï¼šåªéœ€åœ¨æ’ä»¶æ¨¡å—ä¸­åˆ›å»ºæ–°æ–‡ä»¶
- æ”¯æŒé…ç½®**ç¼“å­˜**ï¼šå½“å­˜åœ¨å¤§é‡å°å‹æ’ä»¶é…ç½®æ—¶å°¤ä¸ºé‡è¦
- é…ç½®å˜æ›´ä¼šè‡ªåŠ¨**é‡è½½**ï¼Œç¡®ä¿`:Lazy`ç•Œé¢å§‹ç»ˆæ˜¾ç¤ºæœ€æ–°çŠ¶æ€

ç¤ºä¾‹ï¼š

- `~/.config/nvim/init.lua`

>lua
    require("lazy").setup("plugins")
<

- `~/.config/nvim/lua/plugins.lua` æˆ– `~/.config/nvim/lua/plugins/init.lua`ï¼ˆæ­¤æ–‡ä»¶å¯é€‰ï¼‰

>lua
    return {
      "folke/neodev.nvim",
      "folke/which-key.nvim",
      { "folke/neoconf.nvim", cmd = "Neoconf" },
    }
<

- `~/.config/nvim/lua/plugins/*.lua`ä¸‹çš„æ‰€æœ‰Luaæ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨åˆå¹¶åˆ°ä¸»é…ç½®ä¸­

å®é™…æ¡ˆä¾‹å¯å‚è€ƒLazyVim<https://github.com/LazyVim/LazyVim>é¡¹ç›®ï¼Œç‰¹åˆ«æ˜¯ï¼š
- lazyvim.plugins <https://github.com/LazyVim/LazyVim/tree/main/lua/lazyvim/plugins> åŒ…å«æ‰€æœ‰å¾…åŠ è½½çš„æ’ä»¶é…ç½®

â†©ï¸ é…ç½®å¯¼å…¥ä¸åˆå¹¶

åœ¨é…ç½®è¡¨ä¸­å¯é€šè¿‡`import`è¯­å¥å¯¼å…¥å…¶ä»–æ’ä»¶æ¨¡å—ã€‚ä»¥ä¸‹ä¸¤ç§`setup()`è°ƒç”¨æ–¹å¼ç­‰æ•ˆï¼š

>lua
    require("lazy").setup("plugins")
    
    -- ç­‰åŒäºï¼š
    require("lazy").setup({{import = "plugins"}})
<

éœ€å¯¼å…¥å¤šä¸ªæ¨¡å—æ—¶ï¼Œä¸ºæ¯ä¸ªå¯¼å…¥æ·»åŠ ç‹¬ç«‹é…ç½®é¡¹ã€‚ä¾‹å¦‚åŒæ—¶å¯¼å…¥LazyVimæ ¸å¿ƒæ’ä»¶å’Œå¯é€‰æ’ä»¶ï¼š

>lua
    require("lazy").setup({
      spec = {
        { "LazyVim/LazyVim", import = "lazyvim.plugins" },
        { import = "lazyvim.plugins.extras.coding.copilot" },
      }
    })
<

å¯¼å…¥é…ç½®æ—¶ï¼Œåªéœ€åœ¨æœ¬åœ°é…ç½®ä¸­æ·»åŠ åŒåæ’ä»¶å³å¯è¦†ç›–/åˆå¹¶åŸæœ‰é…ç½®ã€‚`opts`ã€`dependencies`ã€`cmd`ã€`event`ã€`ft`å’Œ`keys`ä¼šä¸çˆ¶é…ç½®è‡ªåŠ¨åˆå¹¶ï¼Œå…¶ä»–å±æ€§åˆ™ä¼šç›´æ¥è¦†ç›–çˆ¶é…ç½®ã€‚

==============================================================================
8. ğŸ”¥ å¼€å‘è€…æŒ‡å—                                 *lazy.nvim-ğŸ”¥-å¼€å‘è€…*

ä¸ºç®€åŒ–ç”¨æˆ·å®‰è£…æµç¨‹ï¼Œæ‚¨å¯ä»¥...ï¼ˆåç»­å†…å®¹æœªæä¾›å®Œæ•´ç¿»è¯‘ï¼‰
åœ¨ä½ çš„ä»£ç ä»“åº“ä¸­åŒ…å«ä¸€ä¸ª`</packages>`è§„èŒƒçš„åŒ…ã€‚

æœ€ä½³å®è·µ                      *lazy.nvim-ğŸ”¥-å¼€å‘è€…æœ€ä½³å®è·µ*

- è‹¥æ’ä»¶éœ€`setup()`ï¼Œåˆ›å»ºå¦‚ä¸‹ç®€æ´çš„`lazy.lua`æ–‡ä»¶ï¼š
    ```lua
    return { "me/my-plugin", opts = {} }
    ```
- çº¯Luaåº“æ’ä»¶åº”é€šè¿‡`lazy = true`å®ç°æ‡’åŠ è½½ï¼š
    ```lua
    { "nvim-lua/plenary.nvim", lazy = true }
    ```
- ä¼˜å…ˆä½¿ç”¨`opts`è€Œé`config`ï¼Œåè€…å‡ ä¹æ— éœ€æ˜¾å¼é…ç½®
- ä»…å½“æ’ä»¶éœ€ä¾èµ–é¡¹**åŒæ—¶**å®‰è£…å¹¶åŠ è½½æ—¶ä½¿ç”¨`dependencies`ã€‚Luaæ’ä»¶/åº“åœ¨è¢«`require()`æ—¶ä¼šè‡ªåŠ¨åŠ è½½ï¼Œæ•…æ— éœ€å£°æ˜ä¾èµ–
- åœ¨`build`å‡½æ•°æˆ–`*.lua`æ„å»ºæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨`coroutine.yield(msg:string|LazyMsg)`æ˜¾ç¤ºè¿›åº¦
- æ„å»ºå‡½æ•°ä¸­å‹¿ä¿®æ”¹`cwd`ï¼Œå› å¹¶è¡Œæ„å»ºä¼šç›¸äº’å½±å“å·¥ä½œç›®å½•

æ„å»ºæŒ‡å—                                  *lazy.nvim-ğŸ”¥-å¼€å‘è€…æ„å»º*

è§„èŒƒä¸­çš„**build**å±æ€§æ”¯æŒä»¥ä¸‹å½¢å¼ï¼š

- `fun(plugin: LazyPlugin)`: æ„å»ºå‡½æ•°
- `*.lua`: æ„å»ºè„šæœ¬ï¼ˆå¦‚`build.lua`ï¼‰
- `":Command"`: Neovimå‘½ä»¤
- `"rockspec"`: åœ¨æ’ä»¶ç›®å½•æ‰§è¡Œ`luarocks make`ï¼ˆç”±`rockspec`åŒ…æºè‡ªåŠ¨è®¾ç½®ï¼‰
- å…¶ä»–**å­—ç¬¦ä¸²**å°†ä½œä¸ºshellå‘½ä»¤æ‰§è¡Œ
- æ”¯æŒä¸Šè¿°ç±»å‹çš„`åˆ—è¡¨`å®ç°å¤šæ­¥æ„å»º
- æœªæŒ‡å®šæ—¶è‡ªåŠ¨æ£€æµ‹`build.lua`

æ„å»ºå‡½æ•°ä¸`*.lua`è„šæœ¬åœ¨åç¨‹ä¸­å¼‚æ­¥æ‰§è¡Œã€‚é€šè¿‡`coroutine.yield(msg:string|LazyMsg)`å±•ç¤ºè¿›åº¦ã€‚

yieldæ“ä½œä¼šè°ƒåº¦ä¸‹æ¬¡`coroutine.resume()`åœ¨ä¸‹ä¸ªäº‹ä»¶å¾ªç¯æ‰§è¡Œï¼Œç¡®ä¿é•¿ä»»åŠ¡ä¸é˜»å¡Neovimã€‚

```lua
---@class LazyMsg
---@field msg string
---@field level? number vim.log.levels.XXX
```

ä½¿ç”¨`vim.log.levels.TRACE`å¯å°†æ¶ˆæ¯ä»…æ˜¾ç¤ºä¸ºä»»åŠ¡**çŠ¶æ€**ä¿¡æ¯ã€‚

æœ€å°åŒ–åˆå§‹åŒ–          *lazy.nvim-ğŸ”¥-å¼€å‘è€…æœ€å°åŒ–åˆå§‹åŒ–*

**lazy.nvim**å†…ç½®æ”¯æŒåˆ›å»ºæœ€å°åŒ–åˆå§‹åŒ–é…ç½®ï¼Œé€‚ç”¨äºæµ‹è¯•å’Œç”¨æˆ·åˆ›å»º`repro.lua`ã€‚

åœ¨**æ— å¤´æ¨¡å¼**ä¸‹è¿è¡Œæ—¶ï¼Œæ‰€æœ‰æ¶ˆæ¯å°†è¾“å‡ºè‡³ç»ˆç«¯ï¼ˆè¯¦è§`opts.headless`ï¼‰ã€‚

**minit**ä¼šå®‰è£…/åŠ è½½æ‰€æœ‰è§„èŒƒå¹¶è‡ªåŠ¨æ‰§è¡Œæ›´æ–°ã€‚

å¿«é€Ÿå¯åŠ¨ ~

```lua
-- æ­¤ç¯å¢ƒå˜é‡å°†è¦†ç›–æ‰€æœ‰XDGè·¯å¾„
vim.env.LAZY_STDPATH = ".tests"
-- åœ¨stdpathä¸­å®‰è£…lazy
load(vim.fn.system("curl -s https://raw.githubusercontent.com/folke/lazy.nvim/main/bootstrap.lua"))()
```

BUSTEDæµ‹è¯• ~

è‡ªåŠ¨é…ç½®`hererocks`å¹¶è¿è¡Œ<https://olivinelabs.com/busted/>æµ‹è¯•æ¡†æ¶ã€‚

ä»¥ä¸‹æ˜¯**LazyVim**ä¸­ä½¿ç”¨**minit**è¿è¡Œæµ‹è¯•çš„ç¤ºä¾‹ï¼š

```lua
#!/usr/bin/env -S nvim -l

vim.env.LAZY_STDPATH = ".tests"
load(vim.fn.system("curl -s https://raw.githubusercontent.com/folke/lazy.nvim/main/bootstrap.lua"))()

-- é…ç½®lazy.nvim
require("lazy.minit").busted({
  spec = {
    "LazyVim/starter",
    "williamboman/mason-lspconfig.nvim",
    "williamboman/mason.nvim",
    "nvim-treesitter/nvim-treesitter",
  },
})
```

æ‰§è¡Œæ–¹å¼ï¼š

```sh
nvim -l ./tes
ä»¥ä¸‹æ˜¯ç¿»è¯‘åçš„å†…å®¹ï¼š

æµ‹è¯•/busted.lua æµ‹è¯•
<

å¦‚éœ€æ£€æŸ¥æµ‹è¯•ç¯å¢ƒï¼Œè¯·è¿è¡Œï¼š

>sh
    nvim -u ./tests/busted.lua
<


REPRO.LUA é‡ç°è„šæœ¬ ~

>lua
    vim.env.LAZY_STDPATH = ".repro"
    load(vim.fn.system("curl -s https://raw.githubusercontent.com/folke/lazy.nvim/main/bootstrap.lua"))()
    
    require("lazy.minit").repro({
      spec = {
        "stevearc/conform.nvim",
        "nvim-neotest/nvim-nio",
      },
    })
    
    -- å¯åœ¨æ­¤æ·»åŠ å…¶ä»–ç”¨äºé‡ç°é—®é¢˜çš„æ“ä½œ
<

è¿è¡Œæ–¹å¼ï¼š

>sh
    nvim -u repro.lua
<

==============================================================================
9. ç›¸å…³é“¾æ¥                                                     *lazy.nvim-links*

1. *å›¾ç‰‡*: https://user-images.githubusercontent.com/292349/208301737-68fb279c-ba70-43ef-a369-8c3e8367d6b1.png
2. *å›¾ç‰‡*: https://user-images.githubusercontent.com/292349/208301766-5c400561-83c3-4811-9667-1ec4bb3c43b8.png
3. *å›¾ç‰‡*: https://user-images.githubusercontent.com/292349/208301790-7eedbfa5-d202-4e70-852e-de68aa47233b.png

æœ¬æ–‡æ¡£ç”± panvimdoc ç”Ÿæˆ <https://github.com/kdheepak/panvimdoc>

vim:tw=78:ts=8:noet:ft=help:norl:

ï¼ˆæ³¨ï¼šä¿ç•™äº†åŸå§‹æ ¼å¼ä¸­çš„æ ‡è®°ç¬¦å·å¦‚>shã€>luaç­‰ï¼Œè¿™äº›åœ¨æŠ€æœ¯æ–‡æ¡£ä¸­é€šå¸¸è¡¨ç¤ºä»£ç å—ç±»å‹ã€‚ç¿»è¯‘æ—¶å¯¹æ³¨é‡Šå’Œæ“ä½œè¯´æ˜è¿›è¡Œäº†æ„è¯‘ï¼Œç¡®ä¿ç¬¦åˆä¸­æ–‡æŠ€æœ¯æ–‡æ¡£çš„è¡¨è¾¾ä¹ æƒ¯ã€‚é“¾æ¥å’Œä»£ç éƒ¨åˆ†ä¿æŒåŸæ ·æœªä½œæ”¹åŠ¨ã€‚ï¼‰